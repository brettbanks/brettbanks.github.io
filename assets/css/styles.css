/* ======================= */
/*   ELEGANT DARK THEME    */
/*   Brett Banks Portfolio */
/* ======================= */

/* ---- Palette & tokens ---- */
:root{
  /* Surfaces */
  --bg: #0d1117;          /* page background (deep navy) */
  --bg-elev: #0f141a;     /* slightly raised background */
  --surface: #111723;     /* cards/sections */
  --surface-2: #0c121a;   /* banners / chips */
  --overlay: rgba(0,0,0,.55);

  /* Text */
  --text: #f3f6fb;        /* primary text */
  --muted: #aab3c2;       /* secondary text */
  --line: #1f2a37;        /* hairline borders */

  /* Accent (trustworthy blue) */
  --link: #5aa2ff;        /* action/links */
  --link-hover: #7bb4ff;  /* hover */
  --accent: #3b82f6;      /* subtle gradients */

  /* Effects */
  --shadow-s: 0 4px 18px rgba(0,0,0,.25);
  --shadow-m: 0 10px 40px rgba(0,0,0,.35);

  /* Layout */
  --container: 1100px;
  --radius: 14px;
}

/* ---- Base ---- */
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: var(--bg);
  line-height: 1.65;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img{ max-width:100%; display:block }

/* Body links underline animation (non-nav, non-buttons) */
a:not(.btn):not(.nav__link){
  text-decoration: none;
  background: linear-gradient(currentColor, currentColor) 0 100% / 0 1px no-repeat;
  transition: background-size .2s ease;
}
a:not(.btn):not(.nav__link):hover{ background-size: 100% 1px; }

/* ---- Layout ---- */
.container{ width:min(var(--container), 92%); margin-inline:auto }
.section{ padding:80px 0 }
.section--alt{ background: var(--bg-elev) }
.section__title{
  font-size: clamp(1.6rem, 2vw + 1rem, 2rem);
  font-weight: 700;
  margin: 0 0 24px;
  letter-spacing: -.01em;
  position: relative;
}
.section__title::after{
  content:"";
  display:block;
  width:60px; height:3px; margin-top:12px;
  background: linear-gradient(90deg, var(--accent), transparent);
  border-radius:2px;
}
.section__intro{
  color: var(--muted);
  margin: -6px 0 28px;
  max-width: 65ch;
}
.text-lg{ font-size:1.05rem; color: var(--muted) }

/* ---- Header / Nav ---- */
.header{
  position: sticky; top:0; z-index:1000;
  background: rgba(13,17,23,.85);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--line);
  transition: box-shadow .2s ease;
}
.header.is-scrolled{ box-shadow: var(--shadow-s) }
/* Blur fallback */
@supports not ((backdrop-filter: blur(8px)) or (-webkit-backdrop-filter: blur(8px))){
  .header{ background: #0f141a; }
}

.nav{
  display:flex; align-items:center; justify-content:space-between; padding:14px 0;
}
.nav__brand{ display:inline-flex; align-items:center; gap:10px; text-decoration:none }
.nav__logo-circle{
  background: linear-gradient(135deg, #7bb4ff, #4279ff);
  color:#0b1320; font-weight:800; width:36px; height:36px;
  display:grid; place-items:center; border-radius:50%;
  box-shadow: 0 4px 10px rgba(66,121,255,.35);
}
.nav__logo-name{ color:var(--text); font-weight:700; font-size:1.1rem; letter-spacing:.01em }
.nav__list{ list-style:none; display:flex; gap:26px; margin:0; padding:0 }
.nav__link{
  text-decoration:none; color:var(--muted); font-weight:500;
  transition: color .15s ease;
}
.nav__link:hover, .nav__link.is-active{ color: var(--link) }

/* Mobile toggle */
.nav__toggle{ display:none; background:none; border:0; cursor:pointer; padding:8px }
.nav__bar{ display:block; width:22px; height:2px; background:var(--text); margin:4px 0 }

@media (max-width:860px){
  .nav__toggle{ display:block }
  .nav__list{
    position: fixed; inset: 56px 0 0 0;
    background: rgba(15,20,26,.98);
    transform: translateY(-100%);
    transition: transform .2s ease;
    display:flex; flex-direction:column; gap:0;
    border-top: 1px solid var(--line);
    padding: 8px 0;
  }
  .nav__list.is-open{ transform: translateY(0) }
  .nav__list li{ border-bottom:1px solid var(--line) }
  .nav__link{ display:block; padding:16px 5% }
  body.no-scroll{ overflow:hidden }
}

/* Accessible focus styles */
:where(a, button, .btn, .nav__link):focus-visible{
  outline: 2px solid var(--link);
  outline-offset: 2px;
  border-radius: 10px;
}

/* ---- Buttons ---- */
.btn{
  display:inline-block; border-radius: 10px; padding:12px 18px; font-weight:600;
  text-decoration:none; border:1px solid var(--line); color:var(--text); background: var(--surface);
  transition: transform .08s ease, background .2s ease, color .2s ease, border-color .2s ease;
}
.btn--primary{
  background: linear-gradient(135deg, #447cff, #66a1ff);
  color:#0b1320; border-color: transparent;
  box-shadow: 0 10px 26px rgba(68,124,255,.28);
}
.btn--primary:hover{ filter: brightness(1.08); }
.btn--ghost{ background: transparent }
.btn--ghost:hover{ border-color: var(--link); color: var(--link) }
.btn--mini{
  padding: 9px 12px; border-radius: 8px;
  background: linear-gradient(135deg, #447cff, #66a1ff);
  color:#0b1320; border:0;
}
.btn:active, .btn--mini:active{ transform: translateY(1px) }

/* ---- Hero (with background image & overlay) ---- */
.hero{ position: relative; background: var(--bg); }
.hero--image{
  background-image: url("assets/img/project-wireshark.jpg"); /* you own this file */
  background-size: cover;
  background-position: center 35%;
}
.hero__overlay{
  position:absolute; inset:0;
  background:
    linear-gradient(180deg, rgba(10,14,20,.2), rgba(10,14,20,.7)),
    linear-gradient(120deg, rgba(59,130,246,.18), rgba(0,0,0,0) 45%);
  pointer-events:none;
}
.hero__container{
  position: relative; /* above overlay */
  display:grid; grid-template-columns: 1.1fr .9fr; gap:38px; align-items:center;
  min-height: 78vh; padding-top: 10px;
}
.hero__title{
  font-size: clamp(2rem, 3.2vw + 1rem, 3.25rem);
  font-weight: 800; letter-spacing:-.02em; margin:0 0 6px;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}
.hero__tagline{ color: var(--link); font-weight:600; margin: 6px 0 12px }
.hero__desc{ color: var(--muted); max-width: 54ch; margin: 0 0 20px }

.socials{ display:flex; gap:14px; margin-top:14px }
.socials__link{ font-size:1.7rem; color: var(--link); text-decoration:none }
.socials__link:hover{ color: var(--link-hover) }

/* Headshot badge (small, B&W, corner) */
.hero__badge{
  position: absolute;
  right: clamp(12px, 3vw, 26px);
  bottom: clamp(12px, 3vw, 26px);
  width: 108px; height: 108px;
  border-radius: 50%;
  overflow: hidden;
  box-shadow: var(--shadow-s);
  opacity: .95;
}
.hero__badge-img{
  width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%);
  border: 0; display:block;
}

/* Stats strip */
.stats{
  display:flex; gap:28px; margin:16px 0 0; padding:0; list-style:none; color:var(--muted)
}
.stats li{ display:flex; flex-direction:column; align-items:flex-start }
.stats strong{ font-size:1.2rem; color:var(--text); line-height:1 }
.stats span{ font-size:.95rem; color:var(--muted) }

@media (max-width:860px){
  .hero__container{ grid-template-columns:1fr; min-height: 68vh }
  .hero__badge{ width: 92px; height: 92px }
  .stats{ flex-wrap:wrap }
}

/* ---- Section backgrounds (subtle image layer) ---- */
.section--bg{ position: relative; isolation: isolate; }
.section--bg::before{
  content:""; position:absolute; inset:0; z-index:-1;
  background-position:center; background-size: cover;
  opacity: .10; /* very subtle */
  filter: saturate(70%) contrast(95%);
}
.services-bg::before{ background-image: url("assets/img/services-bg.jpg"); }
.projects-bg::before{ background-image: url("assets/img/project-hardware.jpg"); }

/* ---- Cards ---- */
.cards{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px;
}
.card{
  background: linear-gradient(180deg, var(--surface), var(--surface-2));
  border: 1px solid var(--line);
  border-radius: var(--radius);
  padding: 20px;
  box-shadow: var(--shadow-s);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card:hover{
  transform: translateY(-4px);
  box-shadow: var(--shadow-m);
  border-color: #2a3646;
}
.card__title{
  color: var(--text);
  font-size: 1.15rem;
  margin: 0 0 10px;
  display:flex; align-items:center; gap:10px;
}
.card__title i{ color: var(--link) }
.card__desc{ color: var(--muted); margin: 0 }

/* Project top banner (correct layering + subtle overlay) */
.card__banner{
  position: relative;
  background-color: var(--surface-2);
  background-image:
    var(--banner),                                   /* project-specific photo from inline style */
    radial-gradient(ellipse at top left, rgba(90,162,255,.28), transparent 55%),
    radial-gradient(ellipse at bottom right, rgba(32,64,128,.38), transparent 50%);
  background-size: cover, auto, auto;
  background-position: center, top left, bottom right;
  height: 140px;
  border-radius: 12px;
  margin-bottom: 14px;
  border: 1px solid var(--line);
  box-shadow: var(--shadow-s);
}
.card__banner::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(0deg, rgba(0,0,0,.16), rgba(0,0,0,0));
  pointer-events:none;
}
/* Cards keyboard focus */
.card:focus-within{
  outline: 2px solid var(--link);
  outline-offset: 2px;
}

/* ---- Contact ---- */
.contact__list{ list-style:none; padding:0; margin:12px 0 0 }
.contact__list li{ margin:10px 0; color: var(--muted) }
.contact__list a{ color: var(--link); text-decoration:none }
.contact__list a:hover{ color: var(--link-hover); text-decoration: underline }

/* ---- CTA band ---- */
.cta .cta__inner{
  display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap
}
.cta h3{ margin:0 0 6px; font-size:1.2rem }
.cta p{ margin:0; color: var(--muted) }
.cta__actions .btn{ margin-left:8px }

/* ---- Footer ---- */
.footer{
  border-top: 1px solid var(--line);
  background: #0b0f14;
  color: var(--muted);
}
.footer__inner{ padding: 20px 0; text-align: center; font-size: .95rem }

/* ---- Reveal animation ---- */
.reveal{
  opacity:0; transform: translateY(16px);
  transition: opacity .55s cubic-bezier(.22,.61,.36,1), transform .55s cubic-bezier(.22,.61,.36,1);
}
.reveal.is-visible{ opacity:1; transform:none }
@media (prefers-reduced-motion: reduce){ .reveal{ transition:none !important } }

/* ---- Section separators for rhythm ---- */
.section + .section{ border-top: 1px solid var(--line) }

/* ---- Small-screen rhythm & readability ---- */
@media (max-width:520px){
  .section{ padding:64px 0 }
  .hero__title{ font-size: clamp(1.9rem, 6vw, 2.6rem) }
  .hero__desc{ font-size:1rem }
  .btn{ padding:10px 16px }
}
